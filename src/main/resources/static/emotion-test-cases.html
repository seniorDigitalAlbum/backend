<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="width=device-width, initial-scale=1.0">
    <title>감정 통합 테스트 케이스</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        h1, h2, h3 {
            color: #333;
        }
        .test-case {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            background-color: #fafafa;
        }
        .test-case.positive-positive {
            border-color: #4CAF50;
            background-color: #f1f8e9;
        }
        .test-case.positive-negative {
            border-color: #FF9800;
            background-color: #fff3e0;
        }
        .test-case.negative-positive {
            border-color: #2196F3;
            background-color: #e3f2fd;
        }
        .test-case.negative-negative {
            border-color: #F44336;
            background-color: #ffebee;
        }
        .case-title {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 10px;
            color: #333;
        }
        .data-section {
            display: flex;
            gap: 20px;
            margin: 10px 0;
        }
        .data-box {
            flex: 1;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            background: white;
        }
        .data-box h4 {
            margin: 0 0 10px 0;
            color: #666;
        }
        pre {
            margin: 0;
            font-size: 11px;
            white-space: pre-wrap;
            word-break: break-all;
        }
        button {
            background-color: #007bff;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .result {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 15px;
            margin-top: 15px;
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 11px;
            max-height: 400px;
            overflow-y: auto;
            display: none;
        }
        .error {
            background-color: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }
        .summary {
            background-color: #e7f3ff;
            border: 1px solid #b3d9ff;
            border-radius: 4px;
            padding: 15px;
            margin: 20px 0;
        }
        .summary h3 {
            margin-top: 0;
            color: #0066cc;
        }
        .summary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        .summary-table th, .summary-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .summary-table th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🧪 감정 통합 계산 테스트 케이스</h1>
        <p>다양한 facial emotion과 speech emotion 조합으로 combinedEmotion 계산 결과를 테스트합니다.</p>
        
        <div class="summary">
            <h3>📊 테스트 케이스 요약</h3>
            <table class="summary-table">
                <thead>
                    <tr>
                        <th>케이스</th>
                        <th>Facial Emotion</th>
                        <th>Speech Emotion</th>
                        <th>예상 결과</th>
                        <th>테스트</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Case 1</td>
                        <td>기쁨 (높은 신뢰도)</td>
                        <td>기쁨 (높은 신뢰도)</td>
                        <td>기쁨 (매우 높은 신뢰도)</td>
                        <td><button onclick="testCase('case1')">테스트</button></td>
                    </tr>
                    <tr>
                        <td>Case 2</td>
                        <td>기쁨 (높은 신뢰도)</td>
                        <td>슬픔 (중간 신뢰도)</td>
                        <td>기쁨 vs 슬픔 경쟁</td>
                        <td><button onclick="testCase('case2')">테스트</button></td>
                    </tr>
                    <tr>
                        <td>Case 3</td>
                        <td>분노 (중간 신뢰도)</td>
                        <td>기쁨 (높은 신뢰도)</td>
                        <td>기쁨 vs 분노 경쟁</td>
                        <td><button onclick="testCase('case3')">테스트</button></td>
                    </tr>
                    <tr>
                        <td>Case 4</td>
                        <td>슬픔 (높은 신뢰도)</td>
                        <td>슬픔 (높은 신뢰도)</td>
                        <td>슬픔 (매우 높은 신뢰도)</td>
                        <td><button onclick="testCase('case4')">테스트</button></td>
                    </tr>
                    <tr>
                        <td>Case 5</td>
                        <td>불안 (낮은 신뢰도)</td>
                        <td>분노 (높은 신뢰도)</td>
                        <td>분노 우세</td>
                        <td><button onclick="testCase('case5')">테스트</button></td>
                    </tr>
                    <tr>
                        <td>Case 6</td>
                        <td>상처 (중간 신뢰도)</td>
                        <td>당황 (중간 신뢰도)</td>
                        <td>상처 vs 당황 경쟁</td>
                        <td><button onclick="testCase('case6')">테스트</button></td>
                    </tr>
                    <tr>
                        <td>Case 7</td>
                        <td>기쁨 (매우 낮은 신뢰도)</td>
                        <td>슬픔 (매우 높은 신뢰도)</td>
                        <td>슬픔 압도적 우세</td>
                        <td><button onclick="testCase('case7')">테스트</button></td>
                    </tr>
                    <tr>
                        <td>Case 8</td>
                        <td>분노 (매우 높은 신뢰도)</td>
                        <td>기쁨 (매우 낮은 신뢰도)</td>
                        <td>분노 압도적 우세</td>
                        <td><button onclick="testCase('case8')">테스트</button></td>
                    </tr>
                    <tr>
                        <td>Case 9</td>
                        <td>불안 (극도로 낮은 신뢰도)</td>
                        <td>상처 (극도로 높은 신뢰도)</td>
                        <td>상처 압도적 우세</td>
                        <td><button onclick="testCase('case9')">테스트</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Case 1: 기쁨 + 기쁨 -->
    <div class="container">
        <div class="test-case positive-positive">
            <div class="case-title">Case 1: 기쁨 + 기쁨 (양쪽 모두 긍정적, 높은 신뢰도)</div>
            <div class="data-section">
                <div class="data-box">
                    <h4>Facial Emotion (기쁨, 높은 신뢰도)</h4>
                    <pre id="case1-facial">{
  "finalEmotion": "joy",
  "totalCaptures": 15,
  "emotionCounts": {
    "joy": 12,
    "neutral": 3
  },
  "averageConfidence": 0.88,
  "emotionDetails": [
    {"emotion": "joy", "confidence": 0.92},
    {"emotion": "joy", "confidence": 0.89},
    {"emotion": "joy", "confidence": 0.85},
    {"emotion": "neutral", "confidence": 0.75}
  ]
}</pre>
                </div>
                <div class="data-box">
                    <h4>Speech Emotion (기쁨, 높은 신뢰도)</h4>
                    <pre id="case1-speech">{
  "predicted_label": "기쁨",
  "confidence": 0.94,
  "all_probabilities": {
    "기쁨": 0.94,
    "슬픔": 0.03,
    "분노": 0.02,
    "불안": 0.01
  }
}</pre>
                </div>
            </div>
            <button onclick="testCase('case1')">🚀 Case 1 테스트</button>
            <div id="case1-result" class="result"></div>
        </div>
    </div>

    <!-- Case 2: 기쁨 + 슬픔 -->
    <div class="container">
        <div class="test-case positive-negative">
            <div class="case-title">Case 2: 기쁨 + 슬픔 (얼굴은 긍정, 말은 부정)</div>
            <div class="data-section">
                <div class="data-box">
                    <h4>Facial Emotion (기쁨, 높은 신뢰도)</h4>
                    <pre id="case2-facial">{
  "finalEmotion": "joy",
  "totalCaptures": 12,
  "emotionCounts": {
    "joy": 9,
    "neutral": 3
  },
  "averageConfidence": 0.82,
  "emotionDetails": [
    {"emotion": "joy", "confidence": 0.85},
    {"emotion": "joy", "confidence": 0.80},
    {"emotion": "neutral", "confidence": 0.70}
  ]
}</pre>
                </div>
                <div class="data-box">
                    <h4>Speech Emotion (슬픔, 중간 신뢰도)</h4>
                    <pre id="case2-speech">{
  "predicted_label": "슬픔",
  "confidence": 0.76,
  "all_probabilities": {
    "슬픔": 0.76,
    "기쁨": 0.15,
    "분노": 0.05,
    "불안": 0.04
  }
}</pre>
                </div>
            </div>
            <button onclick="testCase('case2')">🚀 Case 2 테스트</button>
            <div id="case2-result" class="result"></div>
        </div>
    </div>

    <!-- Case 3: 분노 + 기쁨 -->
    <div class="container">
        <div class="test-case negative-positive">
            <div class="case-title">Case 3: 분노 + 기쁨 (얼굴은 부정, 말은 긍정)</div>
            <div class="data-section">
                <div class="data-box">
                    <h4>Facial Emotion (분노, 중간 신뢰도)</h4>
                    <pre id="case3-facial">{
  "finalEmotion": "anger",
  "totalCaptures": 10,
  "emotionCounts": {
    "anger": 6,
    "neutral": 4
  },
  "averageConfidence": 0.68,
  "emotionDetails": [
    {"emotion": "anger", "confidence": 0.72},
    {"emotion": "anger", "confidence": 0.65},
    {"emotion": "neutral", "confidence": 0.60}
  ]
}</pre>
                </div>
                <div class="data-box">
                    <h4>Speech Emotion (기쁨, 높은 신뢰도)</h4>
                    <pre id="case3-speech">{
  "predicted_label": "기쁨",
  "confidence": 0.89,
  "all_probabilities": {
    "기쁨": 0.89,
    "분노": 0.06,
    "슬픔": 0.03,
    "불안": 0.02
  }
}</pre>
                </div>
            </div>
            <button onclick="testCase('case3')">🚀 Case 3 테스트</button>
            <div id="case3-result" class="result"></div>
        </div>
    </div>

    <!-- Case 4: 슬픔 + 슬픔 -->
    <div class="container">
        <div class="test-case negative-negative">
            <div class="case-title">Case 4: 슬픔 + 슬픔 (양쪽 모두 부정적, 높은 신뢰도)</div>
            <div class="data-section">
                <div class="data-box">
                    <h4>Facial Emotion (슬픔, 높은 신뢰도)</h4>
                    <pre id="case4-facial">{
  "finalEmotion": "sad",
  "totalCaptures": 14,
  "emotionCounts": {
    "sad": 11,
    "neutral": 3
  },
  "averageConfidence": 0.86,
  "emotionDetails": [
    {"emotion": "sad", "confidence": 0.90},
    {"emotion": "sad", "confidence": 0.85},
    {"emotion": "sad", "confidence": 0.82},
    {"emotion": "neutral", "confidence": 0.70}
  ]
}</pre>
                </div>
                <div class="data-box">
                    <h4>Speech Emotion (슬픔, 높은 신뢰도)</h4>
                    <pre id="case4-speech">{
  "predicted_label": "슬픔",
  "confidence": 0.91,
  "all_probabilities": {
    "슬픔": 0.91,
    "기쁨": 0.04,
    "분노": 0.03,
    "불안": 0.02
  }
}</pre>
                </div>
            </div>
            <button onclick="testCase('case4')">🚀 Case 4 테스트</button>
            <div id="case4-result" class="result"></div>
        </div>
    </div>

    <!-- Case 5: 불안 + 분노 -->
    <div class="container">
        <div class="test-case negative-negative">
            <div class="case-title">Case 5: 불안 + 분노 (얼굴은 낮은 신뢰도, 말은 높은 신뢰도)</div>
            <div class="data-section">
                <div class="data-box">
                    <h4>Facial Emotion (불안, 낮은 신뢰도)</h4>
                    <pre id="case5-facial">{
  "finalEmotion": "anxious",
  "totalCaptures": 8,
  "emotionCounts": {
    "anxious": 4,
    "neutral": 4
  },
  "averageConfidence": 0.52,
  "emotionDetails": [
    {"emotion": "anxious", "confidence": 0.55},
    {"emotion": "anxious", "confidence": 0.50},
    {"emotion": "neutral", "confidence": 0.48}
  ]
}</pre>
                </div>
                <div class="data-box">
                    <h4>Speech Emotion (분노, 높은 신뢰도)</h4>
                    <pre id="case5-speech">{
  "predicted_label": "분노",
  "confidence": 0.87,
  "all_probabilities": {
    "분노": 0.87,
    "불안": 0.08,
    "슬픔": 0.03,
    "기쁨": 0.02
  }
}</pre>
                </div>
            </div>
            <button onclick="testCase('case5')">🚀 Case 5 테스트</button>
            <div id="case5-result" class="result"></div>
        </div>
    </div>

    <!-- Case 6: 상처 + 당황 -->
    <div class="container">
        <div class="test-case negative-negative">
            <div class="case-title">Case 6: 상처 + 당황 (양쪽 모두 부정적, 중간 신뢰도)</div>
            <div class="data-section">
                <div class="data-box">
                    <h4>Facial Emotion (상처, 중간 신뢰도)</h4>
                    <pre id="case6-facial">{
  "finalEmotion": "hurt",
  "totalCaptures": 11,
  "emotionCounts": {
    "hurt": 7,
    "neutral": 4
  },
  "averageConfidence": 0.71,
  "emotionDetails": [
    {"emotion": "hurt", "confidence": 0.75},
    {"emotion": "hurt", "confidence": 0.68},
    {"emotion": "neutral", "confidence": 0.65}
  ]
}</pre>
                </div>
                <div class="data-box">
                    <h4>Speech Emotion (당황, 중간 신뢰도)</h4>
                    <pre id="case6-speech">{
  "predicted_label": "당황",
  "confidence": 0.73,
  "all_probabilities": {
    "당황": 0.73,
    "상처": 0.15,
    "불안": 0.08,
    "슬픔": 0.04
  }
}</pre>
                </div>
            </div>
            <button onclick="testCase('case6')">🚀 Case 6 테스트</button>
            <div id="case6-result" class="result"></div>
        </div>
    </div>

    <!-- Case 7: 기쁨(매우 낮은) + 슬픔(매우 높은) -->
    <div class="container">
        <div class="test-case positive-negative">
            <div class="case-title">Case 7: 기쁨(매우 낮은 신뢰도) + 슬픔(매우 높은 신뢰도) - 신뢰도 차이 극대화</div>
            <div class="data-section">
                <div class="data-box">
                    <h4>Facial Emotion (기쁨, 매우 낮은 신뢰도)</h4>
                    <pre id="case7-facial">{
  "finalEmotion": "joy",
  "totalCaptures": 5,
  "emotionCounts": {
    "joy": 2,
    "neutral": 3
  },
  "averageConfidence": 0.35,
  "emotionDetails": [
    {"emotion": "joy", "confidence": 0.40},
    {"emotion": "neutral", "confidence": 0.30}
  ]
}</pre>
                </div>
                <div class="data-box">
                    <h4>Speech Emotion (슬픔, 매우 높은 신뢰도)</h4>
                    <pre id="case7-speech">{
  "predicted_label": "슬픔",
  "confidence": 0.95,
  "all_probabilities": {
    "슬픔": 0.95,
    "기쁨": 0.03,
    "분노": 0.01,
    "불안": 0.01
  }
}</pre>
                </div>
            </div>
            <button onclick="testCase('case7')">🚀 Case 7 테스트</button>
            <div id="case7-result" class="result"></div>
        </div>
    </div>

    <!-- Case 8: 분노(매우 높은) + 기쁨(매우 낮은) -->
    <div class="container">
        <div class="test-case negative-positive">
            <div class="case-title">Case 8: 분노(매우 높은 신뢰도) + 기쁨(매우 낮은 신뢰도) - 신뢰도 차이 극대화</div>
            <div class="data-section">
                <div class="data-box">
                    <h4>Facial Emotion (분노, 매우 높은 신뢰도)</h4>
                    <pre id="case8-facial">{
  "finalEmotion": "anger",
  "totalCaptures": 18,
  "emotionCounts": {
    "anger": 15,
    "neutral": 3
  },
  "averageConfidence": 0.92,
  "emotionDetails": [
    {"emotion": "anger", "confidence": 0.95},
    {"emotion": "anger", "confidence": 0.90},
    {"emotion": "anger", "confidence": 0.88},
    {"emotion": "neutral", "confidence": 0.75}
  ]
}</pre>
                </div>
                <div class="data-box">
                    <h4>Speech Emotion (기쁨, 매우 낮은 신뢰도)</h4>
                    <pre id="case8-speech">{
  "predicted_label": "기쁨",
  "confidence": 0.25,
  "all_probabilities": {
    "기쁨": 0.25,
    "분노": 0.30,
    "슬픔": 0.25,
    "불안": 0.20
  }
}</pre>
                </div>
            </div>
            <button onclick="testCase('case8')">🚀 Case 8 테스트</button>
            <div id="case8-result" class="result"></div>
        </div>
    </div>

    <!-- Case 9: 불안(극도로 낮은) + 상처(극도로 높은) -->
    <div class="container">
        <div class="test-case negative-negative">
            <div class="case-title">Case 9: 불안(극도로 낮은 신뢰도) + 상처(극도로 높은 신뢰도) - 신뢰도 차이 극대화</div>
            <div class="data-section">
                <div class="data-box">
                    <h4>Facial Emotion (불안, 극도로 낮은 신뢰도)</h4>
                    <pre id="case9-facial">{
  "finalEmotion": "anxious",
  "totalCaptures": 3,
  "emotionCounts": {
    "anxious": 1,
    "neutral": 2
  },
  "averageConfidence": 0.15,
  "emotionDetails": [
    {"emotion": "anxious", "confidence": 0.20},
    {"emotion": "neutral", "confidence": 0.10}
  ]
}</pre>
                </div>
                <div class="data-box">
                    <h4>Speech Emotion (상처, 극도로 높은 신뢰도)</h4>
                    <pre id="case9-speech">{
  "predicted_label": "상처",
  "confidence": 0.98,
  "all_probabilities": {
    "상처": 0.98,
    "불안": 0.01,
    "슬픔": 0.005,
    "분노": 0.005
  }
}</pre>
                </div>
            </div>
            <button onclick="testCase('case9')">🚀 Case 9 테스트</button>
            <div id="case9-result" class="result"></div>
        </div>
    </div>

    <script>
        const API_BASE_URL = 'http://localhost:8080/api/emotion-analysis/test';

        // 테스트 케이스 데이터
        const testCases = {
            case1: {
                facial: {
                    "finalEmotion": "joy",
                    "totalCaptures": 15,
                    "emotionCounts": {
                        "joy": 12,
                        "neutral": 3
                    },
                    "averageConfidence": 0.88,
                    "emotionDetails": [
                        {"emotion": "joy", "confidence": 0.92},
                        {"emotion": "joy", "confidence": 0.89},
                        {"emotion": "joy", "confidence": 0.85},
                        {"emotion": "neutral", "confidence": 0.75}
                    ]
                },
                speech: {
                    "predicted_label": "기쁨",
                    "confidence": 0.94,
                    "all_probabilities": {
                        "기쁨": 0.94,
                        "슬픔": 0.03,
                        "분노": 0.02,
                        "불안": 0.01
                    }
                }
            },
            case2: {
                facial: {
                    "finalEmotion": "joy",
                    "totalCaptures": 12,
                    "emotionCounts": {
                        "joy": 9,
                        "neutral": 3
                    },
                    "averageConfidence": 0.82,
                    "emotionDetails": [
                        {"emotion": "joy", "confidence": 0.85},
                        {"emotion": "joy", "confidence": 0.80},
                        {"emotion": "neutral", "confidence": 0.70}
                    ]
                },
                speech: {
                    "predicted_label": "슬픔",
                    "confidence": 0.76,
                    "all_probabilities": {
                        "슬픔": 0.76,
                        "기쁨": 0.15,
                        "분노": 0.05,
                        "불안": 0.04
                    }
                }
            },
            case3: {
                facial: {
                    "finalEmotion": "anger",
                    "totalCaptures": 10,
                    "emotionCounts": {
                        "anger": 6,
                        "neutral": 4
                    },
                    "averageConfidence": 0.68,
                    "emotionDetails": [
                        {"emotion": "anger", "confidence": 0.72},
                        {"emotion": "anger", "confidence": 0.65},
                        {"emotion": "neutral", "confidence": 0.60}
                    ]
                },
                speech: {
                    "predicted_label": "기쁨",
                    "confidence": 0.89,
                    "all_probabilities": {
                        "기쁨": 0.89,
                        "분노": 0.06,
                        "슬픔": 0.03,
                        "불안": 0.02
                    }
                }
            },
            case4: {
                facial: {
                    "finalEmotion": "sad",
                    "totalCaptures": 14,
                    "emotionCounts": {
                        "sad": 11,
                        "neutral": 3
                    },
                    "averageConfidence": 0.86,
                    "emotionDetails": [
                        {"emotion": "sad", "confidence": 0.90},
                        {"emotion": "sad", "confidence": 0.85},
                        {"emotion": "sad", "confidence": 0.82},
                        {"emotion": "neutral", "confidence": 0.70}
                    ]
                },
                speech: {
                    "predicted_label": "슬픔",
                    "confidence": 0.91,
                    "all_probabilities": {
                        "슬픔": 0.91,
                        "기쁨": 0.04,
                        "분노": 0.03,
                        "불안": 0.02
                    }
                }
            },
            case5: {
                facial: {
                    "finalEmotion": "anxious",
                    "totalCaptures": 8,
                    "emotionCounts": {
                        "anxious": 4,
                        "neutral": 4
                    },
                    "averageConfidence": 0.52,
                    "emotionDetails": [
                        {"emotion": "anxious", "confidence": 0.55},
                        {"emotion": "anxious", "confidence": 0.50},
                        {"emotion": "neutral", "confidence": 0.48}
                    ]
                },
                speech: {
                    "predicted_label": "분노",
                    "confidence": 0.87,
                    "all_probabilities": {
                        "분노": 0.87,
                        "불안": 0.08,
                        "슬픔": 0.03,
                        "기쁨": 0.02
                    }
                }
            },
            case6: {
                facial: {
                    "finalEmotion": "hurt",
                    "totalCaptures": 11,
                    "emotionCounts": {
                        "hurt": 7,
                        "neutral": 4
                    },
                    "averageConfidence": 0.71,
                    "emotionDetails": [
                        {"emotion": "hurt", "confidence": 0.75},
                        {"emotion": "hurt", "confidence": 0.68},
                        {"emotion": "neutral", "confidence": 0.65}
                    ]
                },
                speech: {
                    "predicted_label": "당황",
                    "confidence": 0.73,
                    "all_probabilities": {
                        "당황": 0.73,
                        "상처": 0.15,
                        "불안": 0.08,
                        "슬픔": 0.04
                    }
                }
            },
            case7: {
                facial: {
                    "finalEmotion": "joy",
                    "totalCaptures": 5,
                    "emotionCounts": {
                        "joy": 2,
                        "neutral": 3
                    },
                    "averageConfidence": 0.35,
                    "emotionDetails": [
                        {"emotion": "joy", "confidence": 0.40},
                        {"emotion": "neutral", "confidence": 0.30}
                    ]
                },
                speech: {
                    "predicted_label": "슬픔",
                    "confidence": 0.95,
                    "all_probabilities": {
                        "슬픔": 0.95,
                        "기쁨": 0.03,
                        "분노": 0.01,
                        "불안": 0.01
                    }
                }
            },
            case8: {
                facial: {
                    "finalEmotion": "anger",
                    "totalCaptures": 18,
                    "emotionCounts": {
                        "anger": 15,
                        "neutral": 3
                    },
                    "averageConfidence": 0.92,
                    "emotionDetails": [
                        {"emotion": "anger", "confidence": 0.95},
                        {"emotion": "anger", "confidence": 0.90},
                        {"emotion": "anger", "confidence": 0.88},
                        {"emotion": "neutral", "confidence": 0.75}
                    ]
                },
                speech: {
                    "predicted_label": "기쁨",
                    "confidence": 0.25,
                    "all_probabilities": {
                        "기쁨": 0.25,
                        "분노": 0.30,
                        "슬픔": 0.25,
                        "불안": 0.20
                    }
                }
            },
            case9: {
                facial: {
                    "finalEmotion": "anxious",
                    "totalCaptures": 3,
                    "emotionCounts": {
                        "anxious": 1,
                        "neutral": 2
                    },
                    "averageConfidence": 0.15,
                    "emotionDetails": [
                        {"emotion": "anxious", "confidence": 0.20},
                        {"emotion": "neutral", "confidence": 0.10}
                    ]
                },
                speech: {
                    "predicted_label": "상처",
                    "confidence": 0.98,
                    "all_probabilities": {
                        "상처": 0.98,
                        "불안": 0.01,
                        "슬픔": 0.005,
                        "분노": 0.005
                    }
                }
            }
        };

        async function testCase(caseId) {
            const resultDiv = document.getElementById(`${caseId}-result`);
            const testData = testCases[caseId];

            resultDiv.style.display = 'block';
            resultDiv.className = 'result';
            resultDiv.textContent = '계산 중...';

            try {
                const response = await fetch(`${API_BASE_URL}/combine-calculation`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        facialEmotionJson: JSON.stringify(testData.facial),
                        speechEmotionJson: JSON.stringify(testData.speech)
                    })
                });

                const data = await response.json();

                if (response.ok) {
                    showResult(resultDiv, data);
                } else {
                    showError(resultDiv, `API 오류: ${data.message || '알 수 없는 오류'}`);
                }
            } catch (error) {
                showError(resultDiv, `네트워크 오류: ${error.message}`);
            }
        }

        function showResult(resultDiv, data) {
            resultDiv.className = 'result';
            resultDiv.textContent = JSON.stringify(data, null, 2);
        }

        function showError(resultDiv, message) {
            resultDiv.className = 'result error';
            resultDiv.textContent = `❌ 오류: ${message}`;
        }
    </script>
</body>
</html>
